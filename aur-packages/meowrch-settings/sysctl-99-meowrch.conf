# Meowrch System Optimizations
# This file contains system performance tweaks for Meowrch distribution

# === Memory Management ===
# Reduce swap usage - prefer RAM over swap
vm.swappiness = 10

# Reduce pressure on inode and dentry cache
vm.vfs_cache_pressure = 50

# Dirty pages handling for better responsiveness
vm.dirty_ratio = 10
vm.dirty_background_ratio = 5

# === Network Optimizations ===
# Increase max socket receive buffer size
net.core.rmem_max = 134217728

# Increase max socket send buffer size  
net.core.wmem_max = 134217728

# TCP receive buffer size (min, default, max)
net.ipv4.tcp_rmem = 4096 87380 134217728

# TCP send buffer size (min, default, max)
net.ipv4.tcp_wmem = 4096 65536 134217728

# Increase network device queue length
net.core.netdev_max_backlog = 5000

# === File System Optimizations ===
# Increase max number of open files
fs.file-max = 2097152

# Increase inotify watches limit
fs.inotify.max_user_watches = 524288

# === Scheduler Optimizations ===
# Enable automatic process groups for better desktop responsiveness
kernel.sched_autogroup_enabled = 1

# Let child processes run first (can improve performance)
kernel.sched_child_runs_first = 1

# === Gaming Optimizations ===
# Reduce timer migration for better gaming performance
kernel.timer_migration = 0

# === Security with Performance Balance ===
# Disable split lock detection mitigation (gaming performance)
kernel.split_lock_mitigate = 0
